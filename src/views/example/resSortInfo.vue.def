{"structure":{"__resolveFromCode":false,"children":[{"__resolveFromCode":false,"children":[{"__resolveFromCode":false,"children":[],"component":"v2-component-btn","id":1614602925529,"customClass":["v2-component-btn-1614602925529"],"commonStyle":{"align-self":"auto","margin-right":"20px"},"props":["disabled","loading","btnName","leftIcon","rightIcon","shape","visible","if","customClass"],"theme":{"btnType":"danger","size":""},"disabled":false,"loading":false,"btnName":"删除","rightIcon":"el-icon-delete","shape":"def","if":true,"$ref":"v2ComponentBtn_4","visible":true,"__capacity":"1","href":"v2-component-btn","name":"按钮","events":{},"version":"16.0.0","pid":1614602787546,"sizeLocked":{"widthLock":false,"heightLock":false},"animate":["","animated"]},{"__resolveFromCode":false,"children":[{"__resolveFromCode":false,"children":[],"component":"v2-component-btn","id":1614602836812,"customClass":["v2-component-btn-1613475640042"],"commonStyle":{"align-self":"auto","margin-right":"20px"},"props":["disabled","loading","btnName","leftIcon","rightIcon","shape","visible","if","customClass"],"theme":{"btnType":"primary","size":""},"disabled":false,"loading":false,"btnName":"新增","rightIcon":"el-icon-plus","shape":"def","if":true,"$ref":"v2ComponentBtn_3","visible":true,"__capacity":"1","href":"v2-component-btn","name":"按钮","events":{},"version":"16.0.0","pid":1614602839167,"sizeLocked":{"widthLock":false,"heightLock":false},"animate":["","animated"],"offset":{"top":0,"left":0}}],"component":"v2Container","id":1614602839167,"customClass":["v2Container-1614602839167"],"commonStyle":{"box-sizing":"border-box","align-self":"stretch","display":"flex","flex-direction":"column","align-items":"flex-start","height":"auto"},"props":["visible","if","element-loading-text","element-loading-spinner","element-loading-background","customClass"],"if":true,"$ref":"v2Container_1","visible":true,"__capacity":"1","__loadSwitch":false,"__loading":false,"element-loading-text":"正在加载中，请稍候…","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)","href":"v2Container","name":"单容器","events":{},"pid":1614602787546,"sizeLocked":{"widthLock":false,"heightLock":false},"animate":["","animated",""]}],"component":"v2Container","id":1614602787546,"customClass":["v2Container-1614602787546"],"commonStyle":{"box-sizing":"border-box","align-self":"stretch","display":"flex","flex-direction":"row","justify-content":"flex-end","align-items":"flex-start","height":"auto"},"$ref":"v2Container_2","href":"v2Container","direction":"col","style":{},"pid":"root","props":["visible","if","element-loading-text","element-loading-spinner","element-loading-background","customClass"],"sizeLocked":{"widthLock":false,"heightLock":false},"animate":["","animated",""]},{"__resolveFromCode":false,"children":[],"component":"v2-component-table","id":1612854187456,"customClass":["v2-component-table-1612854187456",""],"commonStyle":{"align-self":"auto","height":"816.00px","margin-left":"0","width":"calc(100% - 20px)","flex-shrink":0,"border-radius":"0px","opacity":1},"props":["tooltipEffect","columns","tableData","selection","radioSelect","value","selectionLocation","tHeight","tMaxHeight","openIndex","loading","indexLocation","openPage","pagerCount","pageSizes","pageSize","openSetPageCallback","setPageCallback","currentPage","totalCount","toolBar","toolTitle","toolHeaderAlign","toolLocation","toolWidth","toolBtns","expand","expandMap","visible","if","customClass"],"setPageCallback":"getshipAddressInfo","toolBar":true,"tableData":"${shipAddressList}","pageSize":"${pageSize}","totalCount":"${addressTotalCount}","theme":{"tableType":"border","size":""},"tooltipEffect":"dark","columns":[{"active":true,"type":"text","prop":"start_address","label":"起始地址","handleLink":true,"handleLinkCB":"handleLinkCallback","linkTarget":"_blank","openTooltip":false,"handleTooltip":true,"tooltipContent":"提示","tooltipContentCallback":"tooltipContentCallback","useMinWidth":true,"headerAlign":"left","align":"left","sortable":false,"openFilter":false,"combi":[],"tagMap":[],"textMap":[],"iconMap":[],"filterMap":[]},{"active":true,"type":"text","prop":"end_address","label":"终点地址","handleLink":true,"handleLinkCB":"handleLinkCallback","linkTarget":"_blank","openTooltip":false,"handleTooltip":true,"tooltipContent":"提示","tooltipContentCallback":"tooltipContentCallback","useMinWidth":true,"headerAlign":"left","align":"left","sortable":false,"openFilter":false,"combi":[],"tagMap":[],"textMap":[],"iconMap":[],"filterMap":[]},{"active":true,"type":"text","prop":"ship_address_money","label":"定价","handleLink":true,"handleLinkCB":"handleLinkCallback","linkTarget":"_blank","openTooltip":false,"handleTooltip":true,"tooltipContent":"提示","tooltipContentCallback":"tooltipContentCallback","useMinWidth":true,"headerAlign":"left","align":"left","sortable":false,"openFilter":false,"combi":[],"tagMap":[],"textMap":[],"iconMap":[],"filterMap":[]},{"active":true,"type":"text","prop":"id","handleLink":true,"handleLinkCB":"handleLinkCallback","linkTarget":"_blank","openTooltip":false,"handleTooltip":true,"tooltipContent":"提示","tooltipContentCallback":"tooltipContentCallback","useMinWidth":true,"headerAlign":"left","align":"left","sortable":false,"openFilter":false,"combi":[],"tagMap":[],"textMap":[],"iconMap":[],"filterMap":[]}],"selection":"multi","selectionLocation":"left","tHeight":"100%","tMaxHeight":"100%","openIndex":false,"loading":false,"indexLocation":"left","openPage":true,"openSetPageCallback":true,"toolTitle":"操作","toolHeaderAlign":"left","toolLocation":"right","toolWidth":100,"toolBtns":[{"active":true,"btnName":"编辑","type":"primary","handler":"openEditShipAddressPage","rowName":" ","toolIcon":" ","rowValue":" "}],"expand":false,"if":true,"$ref":"v2ComponentTable_1","value.sync":"${selectData}","visible":true,"__capacity":"1","href":"v2-component-table","name":"表格","events":{},"version":"16.1.3","pid":1613475616327,"sizeLocked":{"widthLock":true,"heightLock":false},"animate":["","animated"],"value":"${selectData}"}],"component":"v2Container","id":"root","commonStyle":{"flex-shrink":"0","box-sizing":"border-box"},"customClass":[],"$ref":"v2Container_root","direction":"row","layout":[100],"data":{},"events":{},"props":["visible","if","element-loading-text","element-loading-spinner","element-loading-background","customClass"],"realSize":[],"sizeLocked":{"widthLock":false,"heightLock":false},"animate":["","animated",""]},"forms":[],"logic":{"methods":[{"name":"getshipAddressInfo","desp":"获取客户地址信息","code":"//函数内直接用ctx代替this访问vue页面的数据。\nconst ctx = this;\npage && (ctx.currentPage = page);\n!page && (ctx.currentPage = 1);\nsize && (ctx.pageSize = size);\n!size && (ctx.pageSize = 10);\nconst params = {\n  \"pageNum\": ctx.currentPage,\n  \"pageSize\": ctx.pageSize,\n  \"orders\": [],\n  \"query\": {},\n  \"ranges\": []\n};\n\nctx.$axios.post(`${axios.server}/shipAddressInfo/list`, params).then(res => {\n  if (res.success && res.status) {\n    const tableData = res.obj&&res.obj.records||[];\n\n    ctx.shipAddressList = tableData.map(function (item) {\n      return {\n        start_address: item.startAddress,\n        end_address: item.endAddress,\n        ship_address_money: item.shipAddressMoney,\n        id:item.shipAddressId\n      }\n    });\n    ctx.addressTotalCount = res.obj && res.obj.total;\n  }\n}).catch(error => {\n\n})","params":[{"name":"page","desp":"新参数"},{"name":"size","desp":"新参数"}],"isEvent":false,"custom":true},{"name":"openEditShipAddressPage","desp":"打开编辑子页面","code":"//函数内直接用ctx代替this访问vue页面的数据。\nconst ctx = this;\nconsole.log(row.staff_id)\nctx.open({\n    title:'编辑配送员信息',\n    path:'/edit/Staff',\n    component:'GRP/editShipAddressSubPage',\n    type:'SUB',\n    closeOnClickModal:false,\n    params:{id:row.id},\n    hideConfirmBtn:true, \n    hideCancelBtn:true, \n    confirmCallback:(params) => { \n        ctx.$axios.post(`${axios.server}/shipAddressInfo/update`, params).then(res => {\n        //下一步的行为\n            if(res.success){\n                ctx.$notify({\n                    title: '编辑定价信息成功',\n                    type: 'success'\n                });\n               ctx.getStaffInfo(ctx.currentPage);\n                \n            }else{\n                ctx.$notify({\n                    title: res.msg,\n                    type: 'error'\n                });\n               \n            }\n        }).catch(function (error) {\n            console.log(error);\n            ctx.$notify({\n                title: error.msg || '编辑失败',\n                type: 'error'\n            });\n        });\n       \n    },\n    cancelCallback:(e) => {\n        console.log('点击取消')\n    }\n})","params":[{"name":"index","desp":"新参数"},{"name":"row","desp":"新参数"}],"isEvent":false,"custom":true}],"watch":{},"beforeCreate":{"code":"let ctx = this;"},"created":{"code":"let ctx = this;"},"beforeMount":{"code":"let ctx = this;"},"mounted":{"code":"let ctx = this;"},"beforeUpdate":{"code":"let ctx = this;"},"updated":{"code":"let ctx = this;"},"beforeDestroy":{"code":"let ctx = this;"},"destroyed":{"code":"let ctx = this;"},"activated":{"code":"let ctx = this;"},"deactivated":{"code":"let ctx = this;"},"pollList":[]},"dataBasket":{"data":{},"list":[{"desp":"选中的数据","name":"selectData","code":"``","source":"pageData","belongTo":"data","type":"data","showSet":false,"sync":false},{"desp":"页码数","name":"pageSize","code":"10","source":"pageData","belongTo":"data","type":"data","showSet":false,"sync":false,"isExposed":true},{"desp":"数据总条数","name":"staffTotalCount","code":"1","source":"pageData","belongTo":"data","type":"data","showSet":false,"sync":false,"isExposed":true},{"desp":"客户地址信息列表","name":"shipAddressList","code":"[]","source":"pageData","belongTo":"data","type":"data","showSet":false,"sync":false,"isExposed":true},{"desp":"总条数","name":"addressTotalCount","code":"1","source":"pageData","belongTo":"data","type":"data","showSet":false,"sync":false,"isExposed":true}],"mapping":{"1612854187456":[{"id":1612854187456,"modelValue":"setPageCallback","dataValue":"setPageCallback","type":""},{"id":1612854187456,"modelValue":"toolBar","dataValue":"true","type":""},{"id":1612854187456,"modelValue":"tableData","dataValue":"shipAddressList","type":""},{"id":1612854187456,"modelValue":"value","dataValue":"selectData","type":""},{"id":1612854187456,"modelValue":"pageSize","dataValue":"pageSize","type":""},{"id":1612854187456,"modelValue":"totalCount","dataValue":"addressTotalCount","type":""}],"1612854599723":[{"id":1612854599723,"modelValue":"value","dataValue":"staff_name","type":""}]}},"events":{},"emitList":[],"display":{"icon":"icontongyong","desp":"运送地址定价管理","type":"gridLayout","width":"1653px","height":"1080px","isSelfAdaption":false,"parentWidth":"1650"},"originCss":"","cssType":"scss","cssConfig":{"scoped":null},"nls":"","mixins":[],"imports":[],"disableVueSPA":false,"disableSupport":false}