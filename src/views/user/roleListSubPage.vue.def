{
    "structure": {
        "__resolveFromCode": false,
        "children": [
            {
                "__resolveFromCode": false,
                "children": [],
                "component": "v2-component-table",
                "id": 1578626611968,
                "customClass": [
                    "role-table"
                ],
                "commonStyle": {
                    "position": "relative",
                    "margin-top": "10px",
                    "margin-bottom": "10px",
                    "margin-left": "10px",
                    "margin-right": "10px",
                    "align-self": "auto",
                    "overflow": "hidden",
                    "animation-duration": "1s",
                    "width": "auto",
                    "border-radius": "0px",
                    "flex-grow": 0,
                    "flex-shrink": 0,
                    "opacity": 1
                },
                "props": [
                    "tooltipEffect",
                    "columns",
                    "tableData",
                    "selection",
                    "radioSelect",
                    "value",
                    "selectionLocation",
                    "tHeight",
                    "tMaxHeight",
                    "openIndex",
                    "loading",
                    "indexLocation",
                    "openPage",
                    "pagerCount",
                    "pageSizes",
                    "pageSize",
                    "openSetPageCallback",
                    "setPageCallback",
                    "currentPage",
                    "totalCount",
                    "toolBar",
                    "toolTitle",
                    "toolHeaderAlign",
                    "toolLocation",
                    "toolWidth",
                    "toolBtns",
                    "expand",
                    "expandMap",
                    "visible",
                    "if",
                    "customClass"
                ],
                "tableData": "${roleTableList}",
                "theme": {
                    "tableType": "border",
                    "size": ""
                },
                "columns": [
                    {
                        "active": true,
                        "prop": "roleId",
                        "label": "ID",
                        "sortable": true,
                        "openFilter": false,
                        "type": "text",
                        "combi": [
                            {
                                "active": "true"
                            }
                        ],
                        "tagMap": [
                            {
                                "active": "true",
                                "type": "text"
                            }
                        ],
                        "iconMap": [
                            {
                                "active": "true"
                            }
                        ],
                        "filterMap": [
                            {
                                "active": "true"
                            }
                        ],
                        "width": "150px"
                    },
                    {
                        "active": true,
                        "prop": "roleName",
                        "label": "角色",
                        "sortable": true,
                        "openFilter": false,
                        "type": "text",
                        "combi": [
                            {
                                "active": "true"
                            }
                        ],
                        "tagMap": [
                            {
                                "active": "true",
                                "type": "text"
                            }
                        ],
                        "iconMap": [
                            {
                                "active": "true"
                            }
                        ],
                        "filterMap": [
                            {
                                "active": "true"
                            }
                        ],
                        "width": "150px"
                    },
                    {
                        "active": true,
                        "prop": "desp",
                        "label": "说明",
                        "sortable": false,
                        "openFilter": false,
                        "type": "text",
                        "combi": [
                            {
                                "active": "true"
                            }
                        ],
                        "tagMap": [
                            {
                                "active": "true",
                                "type": "text"
                            }
                        ],
                        "iconMap": [
                            {
                                "active": "true"
                            }
                        ],
                        "filterMap": [
                            {
                                "active": "true"
                            }
                        ],
                        "width": "300px"
                    }
                ],
                "selection": "multi",
                "openIndex": false,
                "openPage": false,
                "toolBar": false,
                "toolTitle": "操作列",
                "toolLocation": "right",
                "toolWidth": 100,
                "toolBtns": [],
                "expand": false,
                "events": {
                    "_op_table_table": {
                        "selectionChange": {
                            "v2_component_table_1578967582000": {}
                        }
                    }
                },
                "$ref": "v2-component-table_1578626611968",
                "value.sync": "${selectedRoleList}",
                "visible": true,
                "__capacity": "1",
                "href": "v2-component-table",
                "pid": "root",
                "sizeLocked": {
                    "widthLock": true,
                    "heightLock": false
                },
                "animate": [
                    "",
                    "animated"
                ],
                "value": "${selectedRoleList}",
                "selectionLocation": "left"
            },
            {
                "__resolveFromCode": false,
                "children": [
                    {
                        "__resolveFromCode": false,
                        "children": [],
                        "component": "v2-component-btn",
                        "id": 1578966933302,
                        "customClass": [
                            "common-btn-normal"
                        ],
                        "commonStyle": {
                            "position": "relative",
                            "margin-top": "10px",
                            "margin-bottom": "10px",
                            "margin-left": "10px",
                            "margin-right": "10px",
                            "align-self": "auto",
                            "flex-shrink": "0",
                            "overflow": "hidden",
                            "animation-duration": "1s"
                        },
                        "props": [
                            "disabled",
                            "loading",
                            "btnName",
                            "leftIcon",
                            "rightIcon",
                            "shape",
                            "visible",
                            "if",
                            "customClass"
                        ],
                        "theme": {
                            "btnType": "normal",
                            "size": ""
                        },
                        "disabled": false,
                        "loading": false,
                        "btnName": "取消",
                        "shape": "plain",
                        "events": {
                            "_op_componentBtn_btn": {
                                "click": {
                                    "v2_component_btn_1578966973000": {}
                                }
                            }
                        },
                        "$ref": "v2-component-btn_1578966933302",
                        "style": {
                            "btnStyle": {}
                        },
                        "visible": true,
                        "__capacity": "1",
                        "href": "v2-component-btn",
                        "pid": 1578966899082,
                        "sizeLocked": {
                            "widthLock": false,
                            "heightLock": false
                        },
                        "animate": [
                            "",
                            "animated"
                        ]
                    },
                    {
                        "__resolveFromCode": false,
                        "children": [],
                        "component": "v2-component-btn",
                        "id": 1578966925673,
                        "customClass": [
                            "common-btn-focus",
                            "margin-right20"
                        ],
                        "commonStyle": {
                            "position": "relative",
                            "margin-top": "10px",
                            "margin-bottom": "10px",
                            "margin-left": "10px",
                            "margin-right": "10px",
                            "align-self": "auto",
                            "overflow": "hidden",
                            "animation-duration": "1s"
                        },
                        "props": [
                            "disabled",
                            "loading",
                            "btnName",
                            "leftIcon",
                            "rightIcon",
                            "shape",
                            "visible",
                            "if",
                            "customClass"
                        ],
                        "theme": {
                            "btnType": "primary",
                            "size": ""
                        },
                        "disabled": false,
                        "loading": false,
                        "btnName": "提交",
                        "shape": "def",
                        "events": {
                            "_op_componentBtn_btn": {
                                "click": {
                                    "v2_component_btn_1578967772000": {}
                                }
                            }
                        },
                        "$ref": "v2-component-btn_1578966925673",
                        "style": {
                            "btnStyle": {}
                        },
                        "visible": true,
                        "__capacity": "1",
                        "href": "v2-component-btn",
                        "pid": 1578966899082,
                        "sizeLocked": {
                            "widthLock": false,
                            "heightLock": false
                        },
                        "animate": [
                            "",
                            "animated"
                        ]
                    }
                ],
                "component": "v2Container",
                "id": 1578966899082,
                "customClass": [
                    "diaglog-btn-ctn"
                ],
                "commonStyle": {
                    "position": "relative",
                    "box-sizing": "border-box",
                    "align-self": "stretch",
                    "overflow": "hidden",
                    "display": "flex",
                    "flex-direction": "row",
                    "justify-content": "flex-end",
                    "align-items": "flex-start",
                    "min-width": "50px",
                    "min-height": "50px",
                    "animation-duration": "1s",
                    "height": "auto"
                },
                "$ref": "v2Container_1578966899082",
                "href": "v2Container",
                "direction": "col",
                "style": {},
                "pid": "root",
                "ctnStyle": [
                    {},
                    {}
                ],
                "sizeLocked": {
                    "widthLock": false,
                    "heightLock": false
                },
                "animate": [
                    "",
                    "animated"
                ],
                "props": [
                    "visible",
                    "if",
                    "element-loading-text",
                    "element-loading-spinner",
                    "element-loading-background",
                    "customClass"
                ]
            }
        ],
        "component": "v2Container",
        "id": "root",
        "commonStyle": {
            "display": "flex",
            "flex-direction": "column",
            "align-items": "flex-start",
            "align-self": "stretch",
            "min-width": "50px",
            "min-height": "50px",
            "animation-duration": "1s",
            "box-sizing": "border-box",
            "height": "auto"
        },
        "customClass": [],
        "$ref": "v2Container_root",
        "direction": "row",
        "layout": [
            100
        ],
        "style": {
            "width": "100%",
            "height": "100%"
        },
        "data": {},
        "events": {},
        "ctnStyle": [
            {},
            {}
        ],
        "realSize": [],
        "sizeLocked": {
            "widthLock": false,
            "heightLock": false
        },
        "animate": [
            "",
            "animated"
        ],
        "props": [
            "visible",
            "if",
            "element-loading-text",
            "element-loading-spinner",
            "element-loading-background",
            "customClass"
        ]
    },
    "forms": [],
    "logic": {
        "methods": [
            {
                "name": "getRoleList",
                "desp": "获取角色表格数据",
                "code": "//函数内直接用ctx代替this访问vue页面的数据。\nconst ctx = this;\n//console.log(ctx.AParams.roles);\nctx.$axios.get(`${axios.server}/role/list`).then(res => {\n  if (res.success && res.status) {\n    const tableData = res.obj || [];\n\n    ctx.roleTableList = tableData.map(function (item) {\n      return {\n        roleId: item.id,\n        roleName: item.name || '',\n        desp: item.desc || '',\n\n      }\n    });\n    ctx.$nextTick(function(){\n    \n      if (ctx.roleTableList.length &&ctx.AParams.roles&&ctx.AParams.roles.length) {\n        ctx.AParams.roles.forEach(item => {\n          for (let i = 0; i < ctx.roleTableList.length; i++) {\n            if (ctx.roleTableList[i].roleId === item.id) {\n              ctx.__getVueIns('1578626611968').$refs._op_table_table.toggleRowSelection(ctx.roleTableList[i]);\n            }\n          }\n\n        })\n      }\n    })\n\n  }\n}).catch(error => {\n\n})",
                "params": [],
                "isEvent": false,
                "custom": true
            },
            {
                "name": "v2_component_btn_1578966973000",
                "desp": "关闭关联角色子页面",
                "code": "/**\n* 事件绑定在vue实例上，第一个参数是vue实例。\n* 更多其他参数可以参考element-ui官网:https://element.eleme.cn/#/zh-CN\n**/\n\n//函数内直接用ctx代替this访问vue页面的数据。\nconst ctx = this;\nctx.close();",
                "params": [
                    {
                        "name": "vueIns",
                        "desp": "组件的vue实例"
                    }
                ],
                "isEvent": true,
                "custom": true,
                "id": 1578966973000
            },
            {
                "name": "associateRoles",
                "desp": "关联角色",
                "code": "//函数内直接用ctx代替this访问vue页面的数据。\nconst ctx = this;\nvar roleIds  = [];\nconsole.log(ctx.selectedRoleList)\nroleIds = ctx.selectedRoleList.map(function(item){\n    \n    return item.roleId;\n});\n\nctx.$axios.post(`${axios.server}/user/update/role/${ctx.AParams.id}`, JSON.stringify(roleIds),{\n    headers: {\n        'Content-type':'application/json'\n    }\n}).then(res => {\n    //下一步的行为\n    if(res.success){\n        ctx.$notify({\n            type: 'success',\n            title: '关联角色成功'\n        });\n        \n    }else{\n        this.$notify({\n            title: res.msg,\n            type: 'error'\n        });\n    }\n    ctx.close();\n    ctx.$root.confirm();\n        \n}).catch(function (error) {\n        console.log(error);\n});",
                "params": [],
                "isEvent": false,
                "custom": true
            },
            {
                "name": "v2_component_table_1578967582000",
                "desp": "表格复选框状态改变时获取选中数据",
                "code": "/**\n* 事件绑定在vue实例上，第一个参数是vue实例。\n* 更多其他参数可以参考element-ui官网:https://element.eleme.cn/#/zh-CN\n**/\n\n//函数内直接用ctx代替this访问vue页面的数据。\nconst ctx = this;\nctx.selectedRoleList = selections||[];",
                "params": [
                    {
                        "name": "vueIns",
                        "desp": "组件的vue实例"
                    },
                    {
                        "name": "selections",
                        "desp": "选中数据"
                    }
                ],
                "isEvent": true,
                "custom": true,
                "id": 1578967582000
            },
            {
                "name": "v2_component_btn_1578967772000",
                "desp": "关联角色",
                "code": "/**\n* 事件绑定在vue实例上，第一个参数是vue实例。\n* 更多其他参数可以参考element-ui官网:https://element.eleme.cn/#/zh-CN\n**/\n\n//函数内直接用ctx代替this访问vue页面的数据。\nconst ctx = this;\nctx.associateRoles();",
                "params": [
                    {
                        "name": "vueIns",
                        "desp": "组件的vue实例"
                    }
                ],
                "isEvent": true,
                "custom": true,
                "id": 1578967772000
            }
        ],
        "watch": {},
        "beforeCreate": {
            "code": "let ctx = this;"
        },
        "created": {
            "code": "let ctx = this;"
        },
        "beforeMount": {
            "code": "let ctx = this;"
        },
        "mounted": {
            "code": "const ctx = this;\nctx.getRoleList();"
        },
        "beforeUpdate": {
            "code": "let ctx = this;"
        },
        "updated": {
            "code": "let ctx = this;"
        },
        "beforeDestroy": {
            "code": "let ctx = this;"
        },
        "destroyed": {
            "code": "let ctx = this;"
        },
        "activated": {
            "code": "let ctx = this;"
        },
        "deactivated": {
            "code": "let ctx = this;"
        },
        "pollList": [],
        "url2data": {
            "vdaSource": []
        }
    },
    "dataBasket": {
        "data": {},
        "list": [
            {
                "desp": "角色表格数据",
                "name": "roleTableList",
                "code": "[]",
                "source": "pageData",
                "belongTo": "data",
                "type": "data",
                "showSet": false,
                "sync": false
            },
            {
                "desp": "选中的角色数据",
                "name": "selectedRoleList",
                "code": "[]",
                "source": "pageData",
                "belongTo": "data",
                "type": "data",
                "showSet": false,
                "sync": false
            }
        ],
        "mapping": {
            "1578626611968": [
                {
                    "id": 1578626611968,
                    "modelValue": "tableData",
                    "dataValue": "roleTableList",
                    "type": ""
                },
                {
                    "id": 1578626611968,
                    "modelValue": "value",
                    "dataValue": "selectedRoleList",
                    "type": ""
                }
            ]
        }
    },
    "events": {},
    "emitList": [],
    "display": {
        "icon": "icontongyong",
        "desp": "角色列表",
        "type": "gridLayout",
        "width": "800px",
        "height": "1080px"
    },
    "originCss": "",
    "cssType": "scss",
    "cssConfig": {
        "scoped": null
    },
    "nls": "",
    "mixins": [],
    "imports": [],
    "disableVueSPA": false,
    "disableSupport": false
}