(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["role-addRoleSubPage"],{1022:function(t,e,o){var i=o("81c5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("499e").default;n("27fdbb2a",i,!0,{sourceMap:!1,shadowMode:!1})},"2bde":function(t,e,o){"use strict";o("1022")},"2c32":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v2container",{staticClass:"form-user-info-wrapper V2Container",staticStyle:{display:"block","flex-direction":"column","align-items":"flex-start","align-self":"stretch","min-width":"50px","min-height":"50px","animation-duration":"1s"},attrs:{wid:"root"}},[o("v2-form-input",{ref:"v2-form-input_1578880992719",staticClass:"form-item-block V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","align-self":"auto",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578880992719",disabled:t.isDisable,theme:{},label:"角色名",placeholder:"请输入角色名","title-mode":"col","label-witdh":"80px","input-type":"text",rows:2,"show-word-limit":!1,clearable:!1,"is-required":!0,"auto-complete":!1,value:t.roleName},on:{"update:value":function(e){t.roleName=e}}}),o("v2-form-input",{ref:"v2-form-input_1578881040593",staticClass:"form-textarea-margin v2-form-input-1578881040593 V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","align-self":"auto",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578881040593",theme:{size:""},disabled:!1,label:"描述",placeholder:"请填写描述","title-mode":"col","label-witdh":"80px","input-type":"textarea",rows:5,maxlength:200,"show-word-limit":!0,clearable:!1,"is-required":!1,"auto-complete":!1,value:t.desp},on:{"update:value":function(e){t.desp=e}}}),o("div",{ref:"v2Container_1578881127712",staticClass:"diaglog-btn-ctn V2Container",staticStyle:{position:"relative","box-sizing":"border-box","align-self":"stretch",overflow:"hidden",display:"flex","flex-direction":"row","justify-content":"flex-end","align-items":"flex-start","min-width":"50px","min-height":"50px","animation-duration":"1s"},attrs:{wid:"1578881127712"}},[o("v2-component-btn",{ref:"v2-component-btn_1578881089113",staticClass:"common-btn-normal V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","align-self":"auto","flex-shrink":"0",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578881089113",theme:{btnType:"normal",size:""},disabled:!1,loading:!1,"btn-name":"取消",shape:"plain"},on:{"_op_component-btn_btn:click":t.v2_component_btn_1578894579000}}),o("v2-component-btn",{ref:"v2-component-btn_1578881126091",staticClass:"common-btn-focus margin-right20 V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","align-self":"auto",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578881126091",theme:{btnType:"primary",size:""},disabled:!1,loading:!1,"btn-name":"提交",shape:"def"}})],1)],1)},n=[],a=(o("7f7f"),o("ac6a"),o("25f3")),s=o("a6fc"),l={mixins:[s["b"],a["d"]],components:{},data:function(){return{CONTENT:{forms_v2:{config:[{name:"roleForm",desc:"角色信息表单",validate_when:"blur",submit_emitters:[{widget_id:1578881126091,event:"(default)"}],inputs:{1578880992719:{desc:"角色名",validation:{kind:"single-regexp",value:{value:"ROLE_[A-Z_]+",message:"角色名以ROLE_开头，只包含大写字母和下划线"}},name:"roleName"},1578881040593:{desc:"描述",validation:{kind:"single-js",value:{value:"(value, vueIns, ctx) => value.length <=200",message:"角色描述长度限制为 0 到 200 个字符"}},name:"desp"},1578881126091:{desc:"提交",validation:{kind:"dict",value:{ref:null,rules:[],disabled_rules:[]}},name:"提交"}}}],validate_callbacks:[function(t,e,o,i){console.log("字段:"),t.child_results.forEach((function(t){t.ok?console.log(t.fieldName,"输入正确"):console.log(t.fieldName,"输入不正确",t.message),t.vueIns.$showResult&&t.vueIns.$showResult(t)})),t.ok?(console.log("=> 表单输入正确，验证通过"),o()):(console.log("=> 表单输入不正确"),i())}],submit_callbacks:[function(t,e){var o={desc:t.desp||"",name:t.roleName||""};e.AParams.id?(o.id=e.AParams.id,e.$axios.post("".concat(axios.server,"/role/update"),o).then((function(t){t.success?(e.$notify({title:"编辑角色成功",type:"success"}),e.$root.confirm(),e.close()):(e.$notify({title:t.msg,type:"error"}),e.close())})).catch((function(t){console.log(t)}))):e.$axios.post("".concat(axios.server,"/role/add"),o).then((function(t){t.success?(e.$notify({title:"新增角色成功",type:"success"}),e.$root.confirm(),e.close()):e.$notify({title:t.msg,type:"error"})})).catch((function(t){console.log(t)}))}]},mapping:{1578880992719:[{id:1578880992719,modelValue:"value",dataValue:"roleName",type:""},{id:1578880992719,modelValue:"disabled",dataValue:"isDisable",type:"boolean"}],1578881040593:[{id:1578881040593,modelValue:"value",dataValue:"desp",type:""}]}},roleName:"",desp:"",isDisable:!1,__VERSION:4}},props:{},computed:{},watch:{},methods:{v2_component_btn_1578894579000:function(t){var e=this;e.close()},getRoleDetail:function(){var t=this;t.$axios.get("".concat(axios.server,"/role/get/").concat(t.AParams.id)).then((function(e){e.success&&e.status&&(t.roleName=e.obj&&e.obj.name,t.desp=e.obj&&e.obj.desc)})).catch((function(t){console.log(t)}))},setFormToolTips:function(){pipe.tooltip(this.__getVueIns("1578880992719").$refs._op_formInput_input,{content:"角色名以ROLE_开头，只包含大写字母和下划线",placement:"top-start",style:{fontSize:"12px"}}),pipe.tooltip(this.__getVueIns("1578881040593").$refs._op_formInput_input,{content:"用户描述长度限制为 0 到 200 个字符",placement:"top-start",style:{fontSize:"12px"}})}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){var t=this;t.AParams.id&&(t.getRoleDetail(),t.isDisable=!0),t.setFormToolTips()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},deactivated:function(){},activated:function(){}},r=l,c=(o("2bde"),o("2877")),d=Object(c["a"])(r,i,n,!1,null,null,null);e["default"]=d.exports},"81c5":function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".diaglog-btn-ctn{position:absolute!important;bottom:0;width:100%;right:0;border-top:1px solid #e5e5e5}.common-btn-focus,.common-btn-normal{height:32px;line-height:32px;padding-top:0;padding-bottom:0}.common-btn-normal{border:1px solid #dcdfe6}.margin-right20{margin-right:0 0 20px 0!important}.form-user-info-wrapper{width:70%;margin-left:auto!important;margin-right:auto!important}.margin-bottom20{margin-bottom:20px}.form-textarea-margin{margin:0 0 20px 0!important}",""])}}]);