(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["role-authoritySubPage"],{"00e6":function(t,e,i){"use strict";i("e820")},3961:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v2container",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-start","align-items":"flex-start","align-content":"stretch","align-self":"stretch","min-width":"50px","min-height":"50px","animation-duration":"1s"},attrs:{wid:"root"}},[i("v2-component-tree",{directives:[{name:"initial-style",rawName:"v-initial-style",value:"position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;overflow:hidden;animation-duration:1s;width:auto;height:auto;",expression:"`position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;overflow:hidden;animation-duration:1s;width:auto;height:auto;`"}],staticClass:"V2Widget",attrs:{wid:"1579056569223",optionConfig:t.authorityList,"data-type":"def","option-config":t.authorityList,options:[{active:"true",label:"",value:"",expanded:!1,checked:!1,children:[{active:"true",label:"",value:"",expanded:!1,checked:!1,children:[{active:"true",label:"",value:"",checked:!1}]}]}],"node-key":"id","show-checkbox":!0,"leaf-only":!0,visible:!0}}),i("v2container",{directives:[{name:"initial-style",rawName:"v-initial-style",value:"position:relative;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;box-sizing:border-box;align-self:stretch;overflow:hidden;display:flex;justify-content:flex-end;align-items:flex-start;align-content:stretch;min-width:50px;min-height:50px;animation-duration:1s;",expression:"`position:relative;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;box-sizing:border-box;align-self:stretch;overflow:hidden;display:flex;justify-content:flex-end;align-items:flex-start;align-content:stretch;min-width:50px;min-height:50px;animation-duration:1s;`"}],staticClass:"diaglog-btn-ctn",attrs:{wid:"1579056672948",direction:"col"}},[i("v2-component-btn",{directives:[{name:"initial-style",rawName:"v-initial-style",value:"position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;flex-shrink:0;overflow:hidden;animation-duration:1s;",expression:"`position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;flex-shrink:0;overflow:hidden;animation-duration:1s;`"}],staticClass:"common-btn-normal V2Widget",attrs:{wid:"1579056709434",disabled:!1,loading:!1,"btn-name":"取消",shape:"plain",visible:!0}}),i("v2-component-btn",{directives:[{name:"initial-style",rawName:"v-initial-style",value:"position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;overflow:hidden;animation-duration:1s;",expression:"`position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;overflow:hidden;animation-duration:1s;`"}],staticClass:"common-btn-focus margin-right20 V2Widget",attrs:{wid:"1579056731898",disabled:!1,loading:!1,"btn-name":"提交",shape:"def",visible:!0}})],1)],1)},o=[],a=(i("ac6a"),i("456d"),i("7f7f"),i("55dd"),i("a6fc")),r=i("25f3"),s={mixins:[a["b"],r["d"]],components:{},data:function(){return{CONTENT:{structure:{id:"root",component:"v2Container",direction:"row",layout:[100],style:{width:"100%",height:"100%"},data:{},children:[{dataType:"def",optionConfig:"${authorityList}",options:[{active:"true",label:"",value:"",expanded:!1,checked:!1,children:[{active:"true",label:"",value:"",expanded:!1,checked:!1,children:[{active:"true",label:"",value:"",checked:!1}]}]}],nodeKey:"id",showCheckbox:!0,leafOnly:!0,visible:!0,__capacity:"1",component:"v2-component-tree",href:"v2-component-tree",children:[],events:{},id:1579056569223,pid:"root",sizeLocked:{widthLock:!0,heightLock:!1},animate:["","animated"],props:["dataType","optionConfig","options","nodeKey","showCheckbox","value","leafOnly","visible"]},{component:"v2-layout",href:"v2-layout",direction:"col",children:[{theme:{btnType:"normal",size:""},style:{btnStyle:{}},disabled:!1,loading:!1,btnName:"取消",shape:"plain",visible:!0,__capacity:"1",component:"v2-component-btn",href:"v2-component-btn",children:[],events:{_op_componentBtn_btn:{click:["v2_component_btn_1579056675000"]}},id:1579056709434,pid:1579056672948,sizeLocked:{widthLock:!1,heightLock:!1},animate:["","animated"],customClass:["common-btn-normal"],props:["disabled","loading","btnName","leftIcon","rightIcon","shape","visible"]},{theme:{btnType:"primary",size:""},style:{btnStyle:{}},disabled:!1,loading:!1,btnName:"提交",shape:"def",visible:!0,__capacity:"1",component:"v2-component-btn",href:"v2-component-btn",children:[],events:{_op_componentBtn_btn:{click:["v2_component_btn_1579056703000"]}},id:1579056731898,pid:1579056672948,sizeLocked:{widthLock:!1,heightLock:!1},animate:["","animated"],customClass:["common-btn-focus","margin-right20"],props:["disabled","loading","btnName","leftIcon","rightIcon","shape","visible"]}],style:{},id:1579056672948,pid:"root",ctnStyle:[{},{}],sizeLocked:{widthLock:!1,heightLock:!1},animate:["","animated"],customClass:["diaglog-btn-ctn"],props:["height","direction","visible"]}],events:{},ctnStyle:[{},{}],realSize:[],sizeLocked:{widthLock:!1,heightLock:!1},animate:["","animated"],props:["direction"]},forms:[]},authorityList:[],__VERSION:3}},props:{},computed:{},watch:{},methods:{getAuthorityList:function(){var t=this;t.__getVueIns("1579056569223").$refs._op_componentTree_tree.store.defaultExpandAll=!0,t.$axios.get("".concat(axios.server,"/authority/list")).then((function(e){t.authorityList=t.transformList(e.obj),t.$nextTick((function(){var e=t.AParams.authorities.map((function(t){return t.id}));t.__getVueIns("1579056569223").$refs._op_componentTree_tree.setCheckedKeys(e,!1)}))})).catch((function(t){console.log(t)}))},associateAuthority:function(){var t=this,e=this,i=e.__getVueIns("1579056569223").$refs._op_componentTree_tree.getCheckedKeys(!0);e.$axios.post("".concat(axios.server,"/role/update/authority/").concat(e.AParams.id),JSON.stringify(i),{headers:{"Content-type":"application/json"}}).then((function(i){i.success?e.$notify({type:"success",title:"关联权限成功"}):t.$notify({title:i.msg,type:"error"}),e.close(),e.$root.confirm()})).catch((function(t){console.log(t)}))},transformList:function(t){var e={},i=t||[];return t&&t.length?(i.sort((function(t,e){return parseInt(t.order,10)-parseInt(e.order,10)})).map((function(t){!t.parentId&&(t.parentId="");var i=e[t.parentId];i?!i.children&&(i.children=[]):i=e[t.parentId]={id:t.parentId,children:[]};var n=e[t.id]||{id:t.id};n.label=t.name,n.parentId=t.parentId||"",e[t.id]=n,i.children.push(n)})),Object.keys(e).filter((function(t){return!e[t].children})).map((function(t){return delete e[t]})),e[""].children):[]},v2_component_btn_1579056675000:function(t){var e=this;e.close()},v2_component_btn_1579056703000:function(t){var e=this;e.associateAuthority()}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){var t=this;t.getAuthorityList()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},deactivated:function(){},activated:function(){}},c=s,l=(i("00e6"),i("2877")),d=Object(l["a"])(c,n,o,!1,null,null,null);e["default"]=d.exports},"5fb1":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".diaglog-btn-ctn{position:absolute!important;bottom:0;width:100%;right:0;border-top:1px solid #e5e5e5}.common-btn-focus,.common-btn-normal{height:32px;line-height:32px;padding-top:0;padding-bottom:0}.common-btn-normal{border:1px solid #dcdfe6}.margin-right20{margin-right:20px!important}.form-user-info-wrapper{width:70%;margin-left:auto!important;margin-right:auto!important}",""])},e820:function(t,e,i){var n=i("5fb1");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("499e").default;o("86522c5a",n,!0,{sourceMap:!1,shadowMode:!1})}}]);