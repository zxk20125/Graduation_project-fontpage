(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["menu-menuList"],{"6c51":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v2container",{staticClass:"V2Container",staticStyle:{display:"flex","align-items":"flex-start","align-self":"stretch",height:"100%","box-sizing":"border-box","animation-duration":"1s","flex-direction":"column","min-width":"50px","min-height":"50px"},attrs:{wid:"root"}},[a("div",{ref:"v2Container_1578537283708",staticClass:"v2Container-1578537283708 V2Container",staticStyle:{display:"flex","align-items":"flex-start","align-self":"stretch",height:"auto","box-sizing":"border-box",position:"relative",overflow:"hidden","min-width":"50px","min-height":"50px","animation-duration":"1s","flex-direction":"row","flex-shrink":"0"},attrs:{wid:"1578537283708"}},[a("v2-form-input",{ref:"v2-form-input_1579152715570",staticClass:"V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1579152715570",theme:{size:"medium"},disabled:!1,label:"创建用户",placeholder:"请输入创建用户","title-mode":"col","label-witdh":"80px","input-type":"text",rows:2,"show-word-limit":!1,clearable:!1,"is-required":!1,"auto-complete":!1,value:e.creator},on:{"update:value":function(t){e.creator=t}}}),a("v2-form-input",{ref:"v2-form-input_1580789804791",staticClass:"V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1580789804791",theme:{size:"medium"},disabled:!1,label:"菜单标题",placeholder:"请输入菜单名称","title-mode":"col","label-witdh":"80px","input-type":"text",rows:2,"show-word-limit":!1,clearable:!1,"is-required":!1,"auto-complete":!1,value:e.menuTitle},on:{"update:value":function(t){e.menuTitle=t}}}),a("v2-form-datepicker",{ref:"v2-form-datepicker_1578537726108",staticClass:"V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578537726108",theme:{size:"medium"},disabled:!1,label:"创建时间","label-witdh":"80px",placeholder:"请选择","title-mode":"col",type:"daterange","is-required":!1,clearable:!0,format:"yyyy 年 MM 月 dd 日","value-format":"timestamp",align:"left",value:e.createTime},on:{"update:value":function(t){e.createTime=t}}}),a("v2-component-btn",{ref:"v2-component-btn_1578539012886",staticClass:"V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","flex-shrink":"0",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578539012886",theme:{btnType:"primary",size:"medium"},disabled:!1,loading:!1,"btn-name":"查询",shape:"def"},on:{"_op_component-btn_btn:click":e.v2_component_btn_1578965103000}})],1),a("div",{ref:"v2Container_1578539257540",staticClass:"v2Container-1578539257540 V2Container",staticStyle:{display:"flex","align-items":"flex-start","align-self":"stretch",height:"auto","box-sizing":"border-box",position:"relative",overflow:"hidden","min-width":"50px","min-height":"50px","animation-duration":"1s","flex-direction":"row"},attrs:{wid:"1578539257540"}},[a("v2-component-btn",{ref:"v2-component-btn_1578539271197",staticClass:"V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","flex-shrink":0,overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578539271197",theme:{btnType:"primary",size:"medium"},disabled:!1,loading:!1,"btn-name":"新增菜单",shape:"def"},on:{"_op_component-btn_btn:click":e.v2_component_btn_1578838760000}}),a("v2-component-btn",{ref:"v2-component-btn_1578539296885",staticClass:"V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px",overflow:"hidden","animation-duration":"1s","flex-shrink":0},attrs:{wid:"1578539296885",disabled:e.isDisabled,theme:{btnType:"normal",size:"medium"},loading:!1,"btn-name":"删除",shape:"plain"},on:{"_op_component-btn_btn:click":e.v2_component_btn_1578838839000}})],1),a("v2-component-table",{ref:"v2-component-table_1578539272258",staticClass:"V2Widget",style:{overflow:"hidden",width:"calc(100% - 20px)",height:"557.00px","animation-duration":"1s","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","flex-shrink":0},attrs:{wid:"1578539272258",tableData:e.menuTableList,pageSize:e.pageSize,totalCount:e.menuTotalCount,theme:{tableType:"border",size:""},columns:[{active:!0,prop:"name",label:"菜单名称",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}]},{active:!0,prop:"title",label:"标题",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}]},{active:!0,type:"text",prop:"icon",label:"菜单图标",linkTarget:"_blank",headerAlign:"left",align:"left",sortable:!1,openFilter:!1,combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}]},{active:!0,prop:"creator",label:"创建用户",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}]},{active:!0,prop:"createTime",label:"创建时间",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}]},{active:!0,prop:"editor",label:"最近修改用户",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}]},{active:!0,prop:"editTime",label:"最近修改时间",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}]},{active:!0,prop:"desp",label:"描述",sortable:!1,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}]},{active:!0,type:"text",prop:"path",label:"菜单路径",linkTarget:"_blank",headerAlign:"left",align:"left",sortable:!1,openFilter:!1,combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}]}],"table-data":e.menuTableList,selection:"multi","t-height":"100%","t-max-height":"100%","open-index":!1,"open-page":!0,"page-size":e.pageSize,"open-set-page-callback":!0,"set-page-callback":"getPageMenuList","total-count":e.menuTotalCount,"tool-bar":!0,"tool-title":"操作列","tool-width":"100px","tool-btns":[{active:!0,btnName:"编辑",type:"text",handler:"editMenu",rowName:"",toolIcon:"",rowValue:""}],expand:!1},on:{"_op_table_table:selection-change":e.v2_component_table_1578928960000}}),a("v2-pagination",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"v2-pagination_1578838455979",staticClass:"common-pagination V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578838455979",total:e.menuTotalCount,pageSize:e.pageSize,currentPage:e.currentPage,pagesize:e.pageSize,currentpage:e.currentPage},on:{"_op_pagination:current-change":e.v2_pagination_1578929249000,"_op_pagination:size-change":e.v2_pagination_1578929439000}})],1)},n=[],o=(a("c5f6"),a("7f7f"),a("a6fc")),r=a("25f3"),l={mixins:[o["b"],r["d"]],components:{},data:function(){return{CONTENT:{forms_v2:{config:[],validate_callbacks:[],submit_callbacks:[]},mapping:{1578537221490:[{id:1578537221490,modelValue:"value",dataValue:"username",type:""}],1578537355608:[{id:1578537355608,modelValue:"value",dataValue:"userStatus",type:""}],1578537726108:[{id:1578537726108,modelValue:"value",dataValue:"createTime",type:""}],1578539272258:[{id:1578539272258,modelValue:"tableData",dataValue:"menuTableList",type:""},{id:1578539272258,modelValue:"pageSize",dataValue:"pageSize",type:""},{id:1578539272258,modelValue:"totalCount",dataValue:"menuTotalCount",type:""}],1578838455979:[{id:1578838455979,modelValue:"total",dataValue:"menuTotalCount",type:""},{id:1578838455979,modelValue:"pageSize",dataValue:"pageSize",type:""},{id:1578838455979,modelValue:"currentPage",dataValue:"currentPage",type:""}],1578539296885:[{id:1578539296885,modelValue:"disabled",dataValue:"isDisabled",type:"boolean"},{id:1578539296885,modelValue:"visible",dataValue:"true",type:""}],1579152110683:[{id:1579152110683,modelValue:"value",dataValue:"userStatus",type:""}],1579152715570:[{id:1579152715570,modelValue:"value",dataValue:"creator",type:""}],1579153658381:[{id:1579153658381,modelValue:"value",dataValue:"userStatus",type:""}],1580789804791:[{id:1580789804791,modelValue:"value",dataValue:"menuTitle",type:""}],1578539271197:[{id:1578539271197,modelValue:"visible",dataValue:"true",type:""}]}},createTime:"",currentPage:1,pageSize:10,isDisabled:!0,selectedUserList:[],creator:"",menuTitle:"",menuTableList:[],menuTotalCount:1,__VERSION:4}},props:{},computed:{},watch:{},methods:{showRoleModal:function(e,t){var a=this;a.open({title:"关联角色",path:"/associate/role",component:"user/roleListSubPage",type:"SUB",closeOnClickModal:!1,hideConfirmBtn:!0,hideCancelBtn:!0,params:{id:t&&t.id,roles:t.roles},confirmCallback:function(){a.getPageUserList(a.currentPage)},cancelCallback:function(e){console.log("点击取消")}})},openAddMenuPage:function(){var e=this;e.open({title:"新增菜单",path:"/add/menu",component:"menu/addMenuPage",type:"SUB",closeOnClickModal:!1,hideConfirmBtn:!0,hideCancelBtn:!0,confirmCallback:function(t){e.$axios.post("".concat(axios.server,"/menu/add"),t).then((function(t){t.success?(e.$notify({title:"新增菜单成功",type:"success"}),e.getPageMenuList()):e.$notify({title:t.msg,type:"error"})})).catch((function(t){console.log(t),e.$notify({title:t.msg||"新增失败",type:"error"})}))},cancelCallback:function(e){console.log("点击取消")}})},deleteMenu:function(){var e=this,t=this,a=[];a=t.selectedMenuList.map((function(e){return e.id})),t.$confirm("确定删除选中记录码？","删除菜单",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){t.$axios.post("".concat(axios.server,"/menu/delete"),JSON.stringify(a),{headers:{"Content-type":"application/json"}}).then((function(a){a.success?(t.$notify({type:"success",title:"删除成功"}),t.getPageMenuList()):e.$notify({title:a.msg,type:"error"})})).catch((function(e){console.log(e),t.$notify({title:e.msg||"删除失败",type:"error"})}))})).catch((function(e){}))},editMenu:function(e,t){var a=this;a.open({title:"编辑菜单",path:"/edit/menu",component:"menu/addMenuPage",type:"SUB",closeOnClickModal:!1,params:{id:t?t.id:""},hideConfirmBtn:!0,hideCancelBtn:!0,confirmCallback:function(e){a.$axios.post("".concat(axios.server,"/menu/update"),e).then((function(e){e.success?(a.$notify({title:"编辑菜单成功",type:"success"}),a.getPageMenuList(a.currentPage)):a.$notify({title:e.msg,type:"error"})})).catch((function(e){console.log(e),a.$notify({title:e.msg||"编辑失败",type:"error"})}))},cancelCallback:function(e){console.log("点击取消")}})},v2_component_btn_1578838760000:function(e){arguments.length>1&&void 0!==arguments[1]||this.$refs["v2-component-btn_1578539271197"];var t=this;t.openAddMenuPage()},v2_component_btn_1578838839000:function(e){arguments.length>1&&void 0!==arguments[1]||this.$refs["v2-component-btn_1578539296885"];var t=this;t.deleteMenu()},getPageMenuList:function(e,t){var a=this;e&&(a.currentPage=e),!e&&(a.currentPage=1),t&&(a.pageSize=t),!t&&(a.pageSize=10);var i={pageNum:a.currentPage,pageSize:a.pageSize,orders:[{key:"createTime",order:"desc"}],query:{title:a.menuTitle||"",createUserName:a.creator||""},ranges:[{from:a.createTime?a.createTime[0]:null,key:"createTime",to:a.createTime?a.createTime[1]+864e5-1:null}]};a.$axios.post("".concat(axios.server,"/menu/list"),i).then((function(e){if(e.success&&e.status){var t=e.obj&&e.obj.records||[];console.log(JSON.stringify(e)),a.menuTableList=t.map((function(e){return{id:e.id,name:e.name||"",desp:e.desc||"",createTime:a.timesTransferToDate(e.createTime),creator:e.createUserName,editor:e.updateUserName,editTime:a.timesTransferToDate(e.updateTime),path:e.path,title:e.title||"",icon:e.icon||""}})),a.menuTotalCount=e.obj&&e.obj.total}})).catch((function(e){}))},timesTransferToDate:function(e){if(e){var t=new Date(Number(e)),a=t.getFullYear()+"-",i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getHours()<10?"0"+t.getHours():t.getHours(),r=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return a+"-"+i+"-"+n+" "+o+":"+r+":"+l}return""},v2_component_table_1578928960000:function(e){var t=this;t.selectedMenuList=e||[],e.length>0?t.isDisabled=!1:t.isDisabled=!0},v2_pagination_1578929249000:function(e){arguments.length>1&&void 0!==arguments[1]||this.$refs["v2-pagination_1578838455979"];var t=arguments.length>2?arguments[2]:void 0,a=this;a.currentPage=t,a.getPageMenuList(t)},v2_pagination_1578929439000:function(e){arguments.length>1&&void 0!==arguments[1]||this.$refs["v2-pagination_1578838455979"];var t=arguments.length>2?arguments[2]:void 0,a=this;a.pageSize=t,a.getPageMenuList()},v2_component_btn_1578965103000:function(e){arguments.length>1&&void 0!==arguments[1]||this.$refs["v2-component-btn_1578539012886"];var t=this;t.currentPage=1,t.getPageMenuList()}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},deactivated:function(){},activated:function(){}},c=l,s=a("2877"),p=Object(s["a"])(c,i,n,!1,null,null,null);t["default"]=p.exports}}]);