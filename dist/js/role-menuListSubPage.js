(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["role-menuListSubPage"],{"14b0":function(t,n,e){var i=e("cba7");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=e("499e").default;o("c402fb1a",i,!0,{sourceMap:!1,shadowMode:!1})},"162b":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v2container",{staticClass:"v2Container-root V2Container",staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-start","align-self":"stretch","min-width":"50px","min-height":"50px","animation-duration":"1s"},attrs:{wid:"root"}},[e("div",{ref:"v2Container_1578992360842",staticClass:"v2Container-1578992360842 V2Container",staticStyle:{position:"relative","box-sizing":"border-box","align-self":"stretch",overflow:"hidden",display:"flex","flex-direction":"row","align-items":"flex-start","min-width":"50px","min-height":"50px","animation-duration":"1s"},attrs:{wid:"1578992360842"}},[e("v2-component-tree",{ref:"v2-component-tree_1578992390778",staticClass:"V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","align-self":"auto",overflow:"hidden","animation-duration":"1s",width:"auto",height:"auto"},attrs:{wid:"1578992390778",optionConfig:t.menuList,"option-config":t.menuList,"node-key":"id","show-checkbox":!0,"leaf-only":!0}})],1),e("div",{ref:"v2Container_1578995352572",staticClass:"diaglog-btn-ctn V2Container",staticStyle:{position:"relative","box-sizing":"border-box","align-self":"stretch",overflow:"hidden",display:"flex","flex-direction":"row","justify-content":"flex-end","align-items":"flex-start","min-width":"50px","min-height":"50px","animation-duration":"1s"},attrs:{wid:"1578995352572"}},[e("v2-component-btn",{ref:"v2-component-btn_1578995298008",staticClass:"common-btn-normal V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","align-self":"auto","flex-shrink":"0",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578995298008",theme:{btnType:"normal",size:""},disabled:!1,loading:!1,"btn-name":"取消",shape:"plain"},on:{"_op_component-btn_btn:click":t.v2_component_btn_1578995286000}}),e("v2-component-btn",{ref:"v2-component-btn_1578995354622",staticClass:"common-btn-focus margin-right20 V2Widget",style:{position:"relative","margin-top":"10px","margin-bottom":"10px","margin-left":"10px","margin-right":"10px","align-self":"auto",overflow:"hidden","animation-duration":"1s"},attrs:{wid:"1578995354622",theme:{btnType:"primary",size:""},disabled:!1,loading:!1,"btn-name":"提交",shape:"def"},on:{"_op_component-btn_btn:click":t.v2_component_btn_1578996906000}})],1)])},o=[],a=e("2909"),r=(e("ac6a"),e("456d"),e("55dd"),e("25f3")),s=e("a6fc"),c={mixins:[s["b"],r["d"]],components:{},data:function(){return{CONTENT:{forms_v2:{config:[],validate_callbacks:[],submit_callbacks:[]},mapping:{1578910493033:[{id:1578910493033,modelValue:"optionConfig",dataValue:"menuList",type:""}],1578992390778:[{id:1578992390778,modelValue:"optionConfig",dataValue:"menuList",type:""}]}},menuList:[],selectedMenus:[],menuObj:{},__VERSION:4}},props:{},computed:{},watch:{},methods:{getMenuList:function(){var t=this;t.__getVueIns("1578992390778").$refs._op_componentTree_tree.store.defaultExpandAll=!0,t.$axios.get("".concat(axios.server,"/menu/list")).then((function(n){t.menuList=t.transformMenuList(n.obj),t.$nextTick((function(){var n=t.AParams.menus.map((function(t){return t.id})).filter((function(n){return!t.menuObj[n]}));t.__getVueIns("1578992390778").$refs._op_componentTree_tree.setCheckedKeys(n,!1)}))})).catch((function(t){console.log(t)}))},transformMenuList:function(t){var n=this,e={},i=t||[];return t&&t.length?(i.sort((function(t,n){return parseInt(t.order,10)-parseInt(n.order,10)})).map((function(t){!t.parentId&&(t.parentId="");var n=e[t.parentId];n?!n.children&&(n.children=[]):n=e[t.parentId]={id:t.parentId,children:[]};var i=e[t.id]||{id:t.id};i.label=t.title,i.parentId=t.parentId||"",e[t.id]=i,n.children.push(i)})),n.menuObj=e,Object.keys(e).filter((function(t){return!e[t].children})).map((function(t){return delete e[t]})),e[""].children):[]},v2_component_btn_1578995286000:function(t){var n=this;n.close()},associateMenu:function(){var t=this,n=this,e=n.__getVueIns("1578992390778").$refs._op_componentTree_tree.getCheckedKeys(),i=n.__getVueIns("1578992390778").$refs._op_componentTree_tree.getHalfCheckedKeys();n.$axios.post("".concat(axios.server,"/role/update/menu/").concat(n.AParams.id),JSON.stringify([].concat(Object(a["a"])(e),Object(a["a"])(i))),{headers:{"Content-type":"application/json"}}).then((function(e){e.success?n.$notify({type:"success",title:"关联菜单成功"}):t.$notify({title:e.msg,type:"error"}),n.close(),n.$root.confirm()})).catch((function(t){console.log(t)}))},v2_component_btn_1578996906000:function(t){var n=this;n.associateMenu()}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){var t=this;t.getMenuList()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},deactivated:function(){},activated:function(){}},l=c,d=(e("e7ef"),e("2877")),p=Object(d["a"])(l,i,o,!1,null,null,null);n["default"]=p.exports},cba7:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,".diaglog-btn-ctn{position:absolute!important;bottom:0;width:100%;right:0;border-top:1px solid #e5e5e5}.common-btn-focus,.common-btn-normal{height:32px;line-height:32px;padding-top:0;padding-bottom:0}.common-btn-normal{border:1px solid #dcdfe6}.margin-right20{margin-right:20px!important}.form-user-info-wrapper{width:70%;margin-left:auto!important;margin-right:auto!important}",""])},e7ef:function(t,n,e){"use strict";e("14b0")}}]);