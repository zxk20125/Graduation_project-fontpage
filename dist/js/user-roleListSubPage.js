(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-roleListSubPage"],{"0b16":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".role-table{height:auto!important;margin:0!important;overflow:auto!important}.role-table .el-table{min-width:655px!important}.role-table .el-table .cell{white-space:nowrap}.role-table .el-table__body-wrapper{height:auto!important}.diaglog-btn-ctn{position:absolute!important;bottom:0;width:100%;right:0;border-top:1px solid #e5e5e5}.common-btn-focus,.common-btn-normal{height:32px;line-height:32px;padding-top:0;padding-bottom:0}.common-btn-normal{border:1px solid #dcdfe6}.margin-right20{margin-right:20px!important}",""])},1935:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v2container",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-start","align-items":"flex-start","align-content":"stretch","align-self":"stretch","min-width":"50px","min-height":"50px","animation-duration":"1s"},attrs:{wid:"root"}},[i("v2-component-table",{directives:[{name:"initial-style",rawName:"v-initial-style",value:"position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;overflow:hidden;animation-duration:1s;width:auto;",expression:"`position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;overflow:hidden;animation-duration:1s;width:auto;`"}],staticClass:"role-table V2Widget",attrs:{wid:"1578626611968",tableData:t.roleTableList,"table-data":t.roleTableList,columns:[{active:!0,prop:"roleId",label:"ID",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}],width:"150px"},{active:!0,prop:"roleName",label:"角色",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}],width:"150px"},{active:!0,prop:"desp",label:"说明",sortable:!1,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}],width:"300px"}],selection:"multi","open-index":!1,"open-page":!1,"tool-bar":!1,"tool-title":"操作列","tool-location":"right","tool-width":100,"tool-btns":[],expand:!1,visible:!0}}),i("v2container",{directives:[{name:"initial-style",rawName:"v-initial-style",value:"position:relative;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;box-sizing:border-box;align-self:stretch;overflow:hidden;display:flex;justify-content:flex-end;align-items:flex-start;align-content:stretch;min-width:50px;min-height:50px;animation-duration:1s;",expression:"`position:relative;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;box-sizing:border-box;align-self:stretch;overflow:hidden;display:flex;justify-content:flex-end;align-items:flex-start;align-content:stretch;min-width:50px;min-height:50px;animation-duration:1s;`"}],staticClass:"diaglog-btn-ctn",attrs:{wid:"1578966899082",direction:"col"}},[i("v2-component-btn",{directives:[{name:"initial-style",rawName:"v-initial-style",value:"position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;flex-shrink:0;overflow:hidden;animation-duration:1s;",expression:"`position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;flex-shrink:0;overflow:hidden;animation-duration:1s;`"}],staticClass:"common-btn-normal V2Widget",attrs:{wid:"1578966933302",disabled:!1,loading:!1,"btn-name":"取消",shape:"plain",visible:!0}}),i("v2-component-btn",{directives:[{name:"initial-style",rawName:"v-initial-style",value:"position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;overflow:hidden;animation-duration:1s;",expression:"`position:relative;margin-top:10px;margin-bottom:10px;margin-left:10px;margin-right:10px;box-sizing:border-box;overflow:hidden;animation-duration:1s;`"}],staticClass:"common-btn-focus margin-right20 V2Widget",attrs:{wid:"1578966925673",disabled:!1,loading:!1,"btn-name":"提交",shape:"def",visible:!0}})],1)],1)},n=[],a=(i("ac6a"),i("7f7f"),i("a6fc")),r=i("25f3"),l={mixins:[a["b"],r["d"]],components:{},data:function(){return{CONTENT:{structure:{id:"root",component:"v2Container",direction:"row",layout:[100],style:{width:"100%",height:"100%"},data:{},children:[{theme:{tableType:"border"},tableData:"${roleTableList}",columns:[{active:!0,prop:"roleId",label:"ID",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}],width:"150px"},{active:!0,prop:"roleName",label:"角色",sortable:!0,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}],width:"150px"},{active:!0,prop:"desp",label:"说明",sortable:!1,openFilter:!1,type:"text",combi:[{active:"true"}],tagMap:[{active:"true",type:"text"}],iconMap:[{active:"true"}],filterMap:[{active:"true"}],width:"300px"}],selection:"multi",openIndex:!1,openPage:!1,toolBar:!1,toolTitle:"操作列",toolLocation:"right",toolWidth:"100",toolBtns:[],expand:!1,visible:!0,__capacity:"1",component:"v2-component-table",href:"v2-component-table",children:[],events:{_op_table_table:{"selection-change":["v2_component_table_1578967582000"]}},id:1578626611968,pid:"root",sizeLocked:{widthLock:!0,heightLock:!1},animate:["","animated"],customClass:["role-table"],props:["tableData","loading","columns","selection","value","selectionLocation","tHeight","tMaxHeight","openIndex","indexLocation","openPage","pagerCount","pageSizes","pageSize","openSetPageCallback","setPageCallback","currentPage","totalCount","toolBar","toolTitle","toolLocation","toolWidth","toolBtns","expand","expandMap","visible"]},{component:"v2-layout",href:"v2-layout",direction:"col",children:[{theme:{btnType:"normal",size:""},style:{btnStyle:{}},disabled:!1,loading:!1,btnName:"取消",shape:"plain",visible:!0,__capacity:"1",component:"v2-component-btn",href:"v2-component-btn",children:[],events:{_op_componentBtn_btn:{click:["v2_component_btn_1578966973000"]}},id:1578966933302,pid:1578966899082,sizeLocked:{widthLock:!1,heightLock:!1},animate:["","animated"],customClass:["common-btn-normal"],props:["disabled","loading","btnName","leftIcon","rightIcon","shape","visible"]},{theme:{btnType:"primary",size:""},style:{btnStyle:{}},disabled:!1,loading:!1,btnName:"提交",shape:"def",visible:!0,__capacity:"1",component:"v2-component-btn",href:"v2-component-btn",children:[],events:{_op_componentBtn_btn:{click:["v2_component_btn_1578967772000"]}},id:1578966925673,pid:1578966899082,sizeLocked:{widthLock:!1,heightLock:!1},animate:["","animated"],customClass:["common-btn-focus","margin-right20"],props:["disabled","loading","btnName","leftIcon","rightIcon","shape","visible"]}],style:{},id:1578966899082,pid:"root",ctnStyle:[{},{}],customClass:["diaglog-btn-ctn"],sizeLocked:{widthLock:!1,heightLock:!1},animate:["","animated"],props:["height","direction","visible"]}],events:{},ctnStyle:[{},{}],realSize:[],sizeLocked:{widthLock:!1,heightLock:!1},animate:["","animated"]},forms:[]},roleTableList:[],selectedRoleList:[],__VERSION:3}},props:{},computed:{},watch:{},methods:{getRoleList:function(){var t=this;t.$axios.get("".concat(axios.server,"/role/list")).then((function(e){if(e.success&&e.status){var i=e.obj||[];t.roleTableList=i.map((function(t){return{roleId:t.id,roleName:t.name||"",desp:t.desc||""}})),t.$nextTick((function(){t.roleTableList.length&&t.AParams.roles&&t.AParams.roles.length&&t.AParams.roles.forEach((function(e){for(var i=0;i<t.roleTableList.length;i++)t.roleTableList[i].roleId===e.id&&t.__getVueIns("1578626611968").$refs._op_table_table.toggleRowSelection(t.roleTableList[i])}))}))}})).catch((function(t){}))},v2_component_btn_1578966973000:function(t){var e=this;e.close()},associateRoles:function(){var t=this,e=this,i=[];i=e.selectedRoleList.map((function(t){return t.roleId})),e.$axios.post("".concat(axios.server,"/user/update/role/").concat(e.AParams.id),JSON.stringify(i),{headers:{"Content-type":"application/json"}}).then((function(i){i.success?e.$notify({type:"success",title:"关联角色成功"}):t.$notify({title:i.msg,type:"error"}),e.close(),e.$root.confirm()})).catch((function(t){console.log(t)}))},v2_component_table_1578967582000:function(t,e){var i=this;i.selectedRoleList=e||[]},v2_component_btn_1578967772000:function(t){var e=this;e.associateRoles()}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){var t=this;t.getRoleList()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},deactivated:function(){},activated:function(){}},s=l,c=(i("5ff4"),i("2877")),p=Object(c["a"])(s,o,n,!1,null,null,null);e["default"]=p.exports},"5ff4":function(t,e,i){"use strict";i("a1ba")},a1ba:function(t,e,i){var o=i("0b16");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("499e").default;n("4ef809a8",o,!0,{sourceMap:!1,shadowMode:!1})}}]);